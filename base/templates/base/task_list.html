{% extends 'base/main.html' %} 
{% block content %}
<!-- homepage tasks listing  -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do</title>
</head>
<body>
    

</body> -->

<div class="header-bar">
    <div>
        <h1>Hello {{request.user | title}}</h1>    
        <h3 style = "margin: 0"> You have <i>{{count}}</i> Incomplete task{{count|pluralize:"s"}} </h3> 
    </div>
    {% if request.user.is_authenticated %}
    <!-- <a href="{% url 'logout' %}">Log Out</a>       Won't work error 405 get instead of post, need csrf token by django -->
    <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="styled-button" >Logout</button>
    </form>
    {% else %}
    <a href="{% url 'login' %}" class="styled-button" >Log In</a>
    {% endif %}
</div>


<!-- 
<hr>
<h1>My To Do List</h1>
<a href="{% url 'task-create' %}"> Add Items</a>

<form method="get" id="search-form" >
    <input type="search" name="search-area" value="{% if search_input %}{{ search_input }}{% else %}Search{% endif %}" onfocus="clearSearchHint(this)" onblur="restoreSearchHint(this)">
    <input type="submit" value="Search">
</form> -->


<div class ="search-add-wrapper">
    <form class="container-input" method="get" id="search-form">
        <input type="text" class="input" id="search-input" placeholder="Search" name="search-area">
        <svg fill="#000000" width="20px" height="20px" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg">
          <path d="M790.588 1468.235c-373.722 0-677.647-303.924-677.647-677.647 0-373.722 303.925-677.647 677.647-677.647 373.723 0 677.647 303.925 677.647 677.647 0 373.723-303.924 677.647-677.647 677.647Zm596.781-160.715c120.396-138.692 193.807-319.285 193.807-516.932C1581.176 354.748 1226.428 0 790.588 0S0 354.748 0 790.588s354.748 790.588 790.588 790.588c197.647 0 378.24-73.411 516.932-193.807l516.028 516.142 79.963-79.963-516.142-516.028Z" fill-rule="evenodd"></path>
        </svg>
    </form>

    <a id="add-task" href="{% url 'task-create' %}" class="add-button-link" >
    <button class="button-add" type="button">
        <span class="button__text">Add Item</span>
        <span class="button__icon">
            <svg class="svg" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                <line x1="12" x2="12" y1="5" y2="19"></line>
                <line x1="5" x2="19" y1="12" y2="12"></line>
            </svg>
        </span>
    </button>
    </a>
</div>
</button>


<div class="task-item-wrapper" id="task-list">
    {% for task in tasks %}
        <div class="task-wrapper">
            {% if task.complete %}
                <div class="task-title">
                    <div class="task-complete-icon"></div>
                    <i><s><a href="{% url 'task-update' task.id %}">{{task}}</a></s></i>
                </div>
                <a class="delete-link" href="{% url 'task-delete' task.id %}">&#215;</a>
            {% else %}
                <div class="task-title">
                    <div class="task-incomplete-icon"></div>
                    <i><a href="{% url 'task-update' task.id %}">{{task}}</a></i>
                </div>
                <a class="delete-link" href="{% url 'task-delete' task.id %}">&#215;</a>
            {% endif %}
        </div>
    {% empty %}
    <h3>No Items in List</h3>
    {% endfor %}
</div>



<!-- 

<div class="cards-container">
    <!- - Loop through all the items - ->
    {% for task in tasks %}
    <div class="card1">
        <a href="{% url 'task-update' task.id %}">
            <p>{{ task.title }}</p>
            <!- - <p class="small">details </p> - ->
            <div class="go-corner" href="#">
                <div class="go-arrow">
                    â†’
                </div>
            </div>
        </a>
        <div class="card-actions">
            <!- - <a class="delete-link" href="{% url 'task-delete' task.id %}">&#215;</a> - ->
            <!- - <a href="{% url 'task-update' task.id %}" class="styled-button">Edit</a> - ->
            <a href="{% url 'task-delete' task.id %}" class="styled-button-delete">x</a>
        </div>
    </div>
    {% empty %}
    <h3>No Items in List</h3>
    {% endfor %}
</div>

 -->




<!-- 
<table>
    <tr>
        <th>Items</th>              <! -- th acts as cell header - ->
        <th> </th>                  <!- -   #td only shows if we've a th for each td- >
        <th> </th>
        <th> </th>
    </tr>
    <!- - loop through all the items  - ->
    {% for task in tasks %}   <!- - this si django templating syntax- ->
    <tr>
        <td>{{task.title}}</td>                                     <!- - td acts as cell value - ->
    <!-  -    <td><a href="{% url 'task' task.id %}">View</a></td> - ->
        <td><a href="{% url 'task-update' task.id %}">Edit</a></td>
        <td><a href="{% url 'task-delete' task.id %}">Delete</a></td>
    </tr>
    {% empty %}
    <h3>No Items in List</h3>
    {% endfor %}
</table> -->


{% endblock content %}
<!-- </html> -->

